@model Libro
@{
    ViewData["Title"] = "Editar";
}
<a class="btn btn-outline-dark" type="button" asp-controller="Libro" asp-action="MantenimientoLibro">Volver</a>
<br />
<br />
<form enctype="multipart/form-data" class="container-fluid" method="post" id="editarForm">
    <div class="card mb-6">
        <div class="row g-0">
            <div class="col-md-4">
                <img src="data:image/jpg; base64, @Model.Imagen" class="rounded" width="400">
            </div>
            <div class="col-md-8">
                <div class="card-body">
                    <h5 class="card-title">Registro</h5>
                    <table class="table">
                        <input hidden asp-for="IdLibro" />
                        <tr>
                            <td>
                                <label clas="form-label">Titulo:</label>
                            </td>
                            <td>
                                <input required type="text" class="form-control" asp-for="Título" />
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <input type="file" class="form-control" asp-for="File" />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label clas="form-label">Precio:</label>
                            </td>
                            <td>
                                <input required type="number" class="form-control" asp-for="Precio" />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label clas="form-label">Stock:</label>
                            </td>
                            <td>
                                <input required type="number" class="form-control" asp-for="Stock" />
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <button type="submit" class="btn btn-outline-warning">Actualizar</button>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</form>

<label class="alert-danger">@ViewBag.error</label>


@section scripts{
    <script>
        document.getElementById('editarForm').addEventListener('submit', function (e) {
            e.preventDefault();

            Swal.fire({
                title: 'Esta seguro?',
                text: 'Desea actualizar este producto?',
                icon: 'question',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Si, actualizar',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.isConfirmed) {
                    e.target.submit();
                }
            });
        });
    </script>
}